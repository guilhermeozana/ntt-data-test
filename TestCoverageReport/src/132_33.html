<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\tests\test-ntt-data\DeveloperStore\src\Sales\DeveloperStore.Sales.Infrastructure\Migrations\20250723182754_InitialCreate.Designer.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
// &lt;auto-generated /&gt;
using System;
using DeveloperStore.Sales.Infrastructure.Context;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

#nullable disable

namespace DeveloperStore.Sales.Infrastructure.Migrations
{
    [DbContext(typeof(SalesDbContext))]
    [Migration(&quot;20250723182754_InitialCreate&quot;)]
    partial class InitialCreate
    {
        /// &lt;inheritdoc /&gt;
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation(&quot;ProductVersion&quot;, &quot;9.0.7&quot;)
                .HasAnnotation(&quot;Relational:MaxIdentifierLength&quot;, 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity(&quot;DeveloperStore.Sales.Domain.Entities.Sale&quot;, b =&gt;
                {
                    b.Property&lt;int&gt;(&quot;Id&quot;)
                        .ValueGeneratedOnAdd()
                        .HasColumnType(&quot;integer&quot;);

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property&lt;int&gt;(&quot;Id&quot;));

                    b.Property&lt;int&gt;(&quot;BranchId&quot;)
                        .HasColumnType(&quot;integer&quot;);

                    b.Property&lt;int&gt;(&quot;CustomerId&quot;)
                        .HasColumnType(&quot;integer&quot;);

                    b.Property&lt;DateTime&gt;(&quot;Date&quot;)
                        .HasColumnType(&quot;timestamp with time zone&quot;);

                    b.Property&lt;bool&gt;(&quot;IsCancelled&quot;)
                        .HasColumnType(&quot;boolean&quot;);

                    b.Property&lt;string&gt;(&quot;SaleNumber&quot;)
                        .IsRequired()
                        .HasMaxLength(30)
                        .HasColumnType(&quot;character varying(30)&quot;);

                    b.HasKey(&quot;Id&quot;);

                    b.ToTable(&quot;Sales&quot;);
                });

            modelBuilder.Entity(&quot;DeveloperStore.Sales.Domain.Entities.Sale&quot;, b =&gt;
                {
                    b.OwnsMany(&quot;DeveloperStore.Sales.Domain.ValueObjects.SaleItem&quot;, &quot;Items&quot;, b1 =&gt;
                        {
                            b1.Property&lt;int&gt;(&quot;SaleId&quot;)
                                .HasColumnType(&quot;integer&quot;);

                            b1.Property&lt;int&gt;(&quot;ProductId&quot;)
                                .ValueGeneratedOnAdd()
                                .HasColumnType(&quot;integer&quot;);

                            NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b1.Property&lt;int&gt;(&quot;ProductId&quot;));

                            b1.Property&lt;decimal&gt;(&quot;Discount&quot;)
                                .HasColumnType(&quot;decimal(18,2)&quot;);

                            b1.Property&lt;decimal&gt;(&quot;DiscountRate&quot;)
                                .HasColumnType(&quot;decimal(5,2)&quot;);

                            b1.Property&lt;int&gt;(&quot;Quantity&quot;)
                                .HasColumnType(&quot;integer&quot;);

                            b1.Property&lt;decimal&gt;(&quot;TotalAmount&quot;)
                                .HasColumnType(&quot;decimal(18,2)&quot;);

                            b1.Property&lt;decimal&gt;(&quot;UnitPrice&quot;)
                                .HasColumnType(&quot;decimal(18,2)&quot;);

                            b1.HasKey(&quot;SaleId&quot;, &quot;ProductId&quot;);

                            b1.ToTable(&quot;SaleItem&quot;);

                            b1.WithOwner()
                                .HasForeignKey(&quot;SaleId&quot;);
                        });

                    b.Navigation(&quot;Items&quot;);
                });
#pragma warning restore 612, 618
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[20,9,20,10,0],[22,13,24,70,0],[26,13,26,84,0],[28,13,29,17,0],[29,17,29,18,0],[29,18,30,21,0],[30,21,32,51,0],[32,51,34,21,0],[34,21,34,103,0],[34,103,36,21,0],[36,21,37,51,0],[37,51,39,21,0],[39,21,40,51,0],[40,51,42,21,0],[42,21,43,68,0],[43,68,45,21,0],[45,21,46,51,0],[46,51,48,21,0],[48,21,51,65,0],[51,65,53,21,0],[53,21,53,36,0],[53,36,55,21,0],[55,21,55,40,0],[55,40,56,17,0],[56,17,56,18,0],[56,18,56,20,0],[58,13,59,17,0],[59,17,59,18,0],[59,18,60,21,0],[60,21,61,25,0],[61,25,61,26,0],[61,26,62,29,0],[62,29,63,59,0],[63,59,65,29,0],[65,29,67,59,0],[67,59,69,29,0],[69,29,69,119,0],[69,119,71,29,0],[71,29,72,65,0],[72,65,74,29,0],[74,29,75,64,0],[75,64,77,29,0],[77,29,78,59,0],[78,59,80,29,0],[80,29,81,65,0],[81,65,83,29,0],[83,29,84,65,0],[84,65,86,29,0],[86,29,86,62,0],[86,62,88,29,0],[88,29,88,52,0],[88,52,90,29,0],[90,29,91,58,0],[91,58,92,25,0],[92,25,92,26,0],[92,26,92,28,0],[92,28,94,21,0],[94,21,94,43,0],[94,43,95,17,0],[95,17,95,18,0],[95,18,95,20,0],[97,9,97,10,0]]);
    </script>
  </body>
</html>